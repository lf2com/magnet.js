!function(){function t(e,r,n){function i(o,l){if(!r[o]){if(!e[o]){var u="function"==typeof require&&require;if(!l&&u)return u(o,!0);if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[o]={exports:{}};e[o][0].call(c.exports,function(t){return i(e[o][1][t]||t)},c,c.exports,t,e,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}return t}()({1:[function(t,e,r){"use strict";!function(e){var r=t("./libs/stdlib"),n=r.isset,i=r.objForEach,a=t("./libs/magnet"),o=a.default,l=a.MAGNET_DEFAULTS,u=t("./libs/rect"),s=u.isRect,c=u.stdRect,f=u.diffRect;e.magnet=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new o;return i(l,function(t,i){var a=e[i];n(a)&&n(r[i])&&r[i](a)}),["add","remove","removeFull","clear","clearFull","distance","attractable","allowCtrlKey","allowDrag","useRelativeUnit","stayInParent","alignOuter","alignInner","alignCenter","alignParentCenter","check","handle","setMemberRectangle","on","off"].forEach(function(e){t[e]=function(){var n=r[e].apply(r,arguments);return n||!arguments.length?n:t}}),["beforeAttract","afterAttract","doAttract"].forEach(function(i){var a=e[i];n(a)&&(r[i]=a),t[i]=function(e){return n(e)?(r[i]=e,t):r[i]}}),this},e.magnet.isRect=function(t){return s(t)},e.magnet.stdRect=function(t){return c(t)},e.magnet.measure=e.magnet.diffRect=function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return f.apply(void 0,[t,e].concat(n))},e.fn.magnet=function(){var t=e.magnet.apply(e,arguments);return this.each(function(){t.add(this)}),this}}(jQuery)},{"./libs/magnet":4,"./libs/rect":5,"./libs/stdlib":6}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./stdlib"),i={tt:"topToTop",rr:"rightToRight",bb:"bottomToBottom",ll:"leftToLeft",tb:"topToBottom",bt:"bottomToTop",rl:"rightToLeft",lr:"leftToRight",xx:"xCenter",yy:"yCenter"};r.default=Object.create(null,(0,n.objMap)(i,function(t,e){return{get:function(){return i[e]},set:function(t){if((0,n.objValues)(i).includes(t))throw new Error("Already assign property name: "+t);i[e]=t},enumerable:!0}}))},{"./stdlib":6}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=t("./stdlib"),a=function(t){if((0,i.isstr)(t))t=t.split(" ");else if(!(0,i.isarray)(t))throw new Error("Invalid names: "+(0,i.tostr)(t));return t.map(function(t){return function(t){if(!(0,i.isstr)(t))throw new Error("Invalid name: "+(0,i.tostr)(t));var e=t.split("."),r=n(e,2),a=r[0],o=r[1];if(!(0,i.isset)(a))throw new Error("Illegal name: "+(0,i.tostr)(t));return[a,o]}(t)})};function o(t){if(!this instanceof o)return new(Function.prototype.bind.apply(o,[null].concat(Array.prototype.slice.call(arguments))));Object.defineProperties(this,{ref:{value:t},dom:{value:(0,i.iselem)(t)?t:document.createElement("eh")},events:{value:{}}})}["on","off","trigger"].forEach(function(t){o[t]=function(e){for(var r,n=arguments.length,a=Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];if(e instanceof o)e[t].apply(e,a);else if(!(0,i.iselem)(e))throw new Error("Invalid element: "+(0,i.tostr)(e));return e._eventHandler=(r=e._eventHandler||new o(e))[t].apply(r,a),o}}),o.prototype.on=function(t,e){var r=this;return e=function(t){if((0,i.isfunc)(t))return[t];if(!(0,i.isarray)(t))throw new Error("Invalid funcs: "+(0,i.tostr)(t));return t.map(function(t){if(!(0,i.isfunc)(t))throw new Error("Invaqlid func: "+(0,i.tostr)(t));return t})}(e),(0,i.isset)(this.ref)&&(e=e.map(function(t){return t.bind(r.ref)})),a(t).forEach(function(t){var i=n(t,2),a=i[0],o=i[1];e.forEach(function(t){return r.dom.addEventListener(a,t)}),r.events[a]=(r.events[a]||[]).concat(e.map(function(t){return{minor:o,func:t}}))}),this},o.prototype.off=function(t){var e=this;return a(t).forEach(function(t){var r=n(t,2),a=r[0],o=r[1],l=e.events[a]||[],u=[];if((0,i.isset)(o))for(var s=l.length-1;0<=s;s--){var c=l[s];o===c.minor&&(u.push(c),l.splice(s,1))}else l.splice(0,l.length).forEach(function(t){u.push(t)});u.forEach(function(t){var r=t.func;e.dom.removeEventListener(a,r)}),0===l.length&&delete e.events[a]}),this},o.prototype.trigger=function(t,e,r){var o=this;if((0,i.isset)(r)&&!(0,i.isfunc)(r))throw new Error("Invalid onPrevent function: "+(0,i.tostr)(r));return a(t).forEach(function(t){var a=n(t,2),l=a[0],u=a[1],s=!1;if((0,i.isset)(u))for(var c=!1,f=function(){return s=!0},d=function(){return c=!0},h=(o.events[l]||[]).filter(function(t){return t.minor===u}),g=0;!c&&g<h.length;g++)!1===h[g].func({detail:e,preventDefault:f,stopImmediatePropagation:d})&&(s=!0);else{var p=document.createEvent("CustomEvent");p.initCustomEvent(l,!0,!0,e),!1===o.dom.dispatchEvent(p)&&(s=!0)}s&&r&&r(l)}),this},r.default=o},{"./stdlib":6}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MAGNET_DEFAULTS=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=t("./stdlib"),o=s(t("./event-handler")),l=t("./rect"),u=s(t("./alignment-props"));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var d=[u.default.tb,u.default.rl,u.default.bt,u.default.lr],h=[u.default.tt,u.default.rr,u.default.bb,u.default.ll],g=[u.default.xx,u.default.yy],p="attract",y="unattract",v="attracted",b="unattracted",m="attractstart",w="attractmove",R="attractend",E=["magnetenter","magnetstart","enter","start"],A=["magnetchange","change"],x=["magnetend","magnetleave","end","leave"],I=["mousedown","touchstart"],_=["mousemove","touchmove"],j=["mouseup","touchend"],O="keydown",P="keyup",C=function(t){return t+"px"},D=function(t){return 100*t+"%"},S=function(t){var e=t.clientX,r=t.clientY,n=t.touches,a=i(n=void 0===n?[]:n,1)[0],o=(a=void 0===a?{}:a).clientX,l=void 0===o?e:o,u=a.clientY;return{x:l,y:void 0===u?r:u}},M=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=e[F.id];return n.reduce(function(r,n){return(0,a.isarray)(n)?r.concat(t.apply(void 0,[e].concat(f(n)))):r.concat(n.split(" ").map(function(t){return t+"."+o}))},[])},U=function(t){for(var e=t.parentElement;e;e=e.parentElement)if("static"!==(0,a.getStyle)(e).position)return e;return document},F={id:"_id",temp:"_temp",targets:"_targets",eventHandler:"_eventHandler",manualHandler:"_manualHandler",distance:"_distance",attractable:"_attractable",allowCtrlKey:"_allowCtrlKey",allowDrag:"_allowDrag",useRelativeUnit:"_useRelativeUnit",stayInParent:"_stayInParent",alignOuter:"_alignOuter",alignInner:"_alignInner",alignCenter:"_alignCenter",alignParentCenter:"_alignParentCenter"},T=r.MAGNET_DEFAULTS={distance:0,scale:1,attractable:!0,allowCtrlKey:!0,allowDrag:!0,useRelativeUnit:!1,stayInParent:!1,alignOuter:!0,alignInner:!0,alignCenter:!0,alignParentCenter:!1};function k(){for(var t,e=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];if(!this instanceof k)return new(Function.prototype.bind.apply(k,[null].concat(Array.prototype.slice.call(arguments))));Object.defineProperties(this,(c(t={},F.id,{value:"magnet_"+Date.now()}),c(t,F.temp,{value:[],writable:!0}),c(t,F.targets,{value:[],writable:!0}),c(t,F.eventHandler,{value:new o.default(this)}),c(t,F.manualHandler,{value:{},writable:!0}),c(t,F.distance,{value:T.distance,writable:!0}),c(t,F.scale,{value:T.scale,writable:!0}),c(t,F.attractable,{value:T.attractable,writable:!0}),c(t,F.allowCtrlKey,{value:T.allowCtrlKey,writable:!0}),c(t,F.allowDrag,{value:T.allowDrag,writable:!0}),c(t,F.useRelativeUnit,{value:T.useRelativeUnit,writable:!0}),c(t,F.stayInParent,{value:T.stayInParent,writable:!0}),c(t,F.alignOuter,{value:T.alignOuter,writable:!0}),c(t,F.alignInner,{value:T.alignInner,writable:!0}),c(t,F.alignCenter,{value:T.alignCenter,writable:!0}),c(t,F.alignParentCenter,{value:T.alignParentCenter,writable:!0}),t)),(0,a.objForEach)(T,function(t,r){return(0,a.isset)(e[r])&&e[r](t)}),n.length&&this.add(n)}k.prototype.getScale=function(){return this[F.scale]},k.prototype.setScale=function(t){this[F.scale]=t},k.prototype.scale=function(t){return(0,a.isset)(t)?this.setScale(t):this.setScale()},k.prototype.getDistance=function(){return this[F.distance]},k.prototype.setDistance=function(t){if(isNaN(t))throw new Error("Invalid distance: "+(0,a.tostr)(t));if(t<0)throw new Error("Illegal distance: "+t);return this[F.distance]=(0,a.tonum)(t),this},k.prototype.distance=function(t){return(0,a.isset)(t)?this.setDistance(t):this.getDistance()},k.prototype.getAttractable=function(){return this[F.attractable]},k.prototype.setAttractable=function(t){return this[F.attractable]=(0,a.tobool)(t),this},k.prototype.attractable=function(t){return(0,a.isset)(t)?this.setAttractable(t):this.getAttractable()},k.prototype.getAllowCtrlKey=function(){return this[F.allowCtrlKey]},k.prototype.setAllowCtrlKey=function(t){return this[F.allowCtrlKey]=(0,a.tobool)(t),this},k.prototype.allowCtrlKey=function(t){return(0,a.isset)(t)?this.setAllowCtrlKey(t):this.getAllowCtrlKey()},k.prototype.getAllowDrag=function(){return this[F.allowDrag]},k.prototype.setAllowDrag=function(t){return this[F.allowDrag]=(0,a.tobool)(t),this},k.prototype.allowDrag=function(t){return(0,a.isset)(t)?this.setAllowDrag(t):this.getAllowDrag()},k.prototype.getUseRelativeUnit=function(){return this[F.useRelativeUnit]},k.prototype.setUseRelativeUnit=function(t){var e=this;return t=(0,a.tobool)(t),this[F.useRelativeUnit]!==t&&((0,a.stdDoms)(this[F.targets]).forEach(function(t){return e.setMemberRectangle(t)}),this[F.useRelativeUnit]=t),this},k.prototype.useRelativeUnit=function(t){return(0,a.isset)(t)?this.setUseRelativeUnit(t):this.getUseRelativeUnit()},k.prototype.getStayInParent=function(){return this[F.stayInParent]},k.prototype.setStayInParent=function(t){return this[F.stayInParent]=(0,a.tobool)(t),this},k.prototype.stayInParent=k.prototype.stayInParentEdge=k.prototype.stayInParentElem=function(t){return(0,a.isset)(t)?this.setStayInParent(t):this.getStayInParent()},["Outer","Inner","Center","ParentCenter"].forEach(function(t){var e="align"+t,r="Align"+t;k.prototype["get"+r]=function(){return this[F[e]]},k.prototype["set"+r]=function(t){return this[F[e]]=(0,a.tobool)(t),this},k.prototype[e]=k.prototype["enabled"+r]=function(t){return(0,a.isset)(t)?this["set"+r](t):this["get"+r]()}}),["on","off"].forEach(function(t){k.prototype[t]=function(){var e;return(e=this[F.eventHandler])[t].apply(e,arguments),this}}),k.prototype.check=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.stdRect)(t),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[].concat(this.getAlignOuter()?d:[],this.getAlignInner()?h:[],this.getAlignCenter()?g:[]);if(!(0,a.iselem)(t))throw new Error("Invalid DOM: "+(0,a.tostr)(t));(0,a.isarray)(e)&&(r=e,e=(0,l.stdRect)(t));var n=U(t),i=(0,l.stdRect)(n),o=this[F.targets].filter(function(e){return e!==t}).map(function(t){return(0,l.diffRect)(e,t,{alignments:r})}),u=o.reduce(function(t,e){return(0,a.objForEach)(e.results,function(r,n){t[n]=t[n]||[],t[n].push(e)}),t},{}),s=(0,a.objMap)(u,function(t,e){return t.concat().sort(function(t,r){return t.results[e]-r.results[e]})});return{source:{rect:e,element:t},parent:{rect:i,element:n},targets:o,results:u,rankings:s,mins:(0,a.objMap)(s,function(t){return t[0]}),maxs:(0,a.objMap)(s,function(t){return t[t.length-1]})}};var K=function(t,e){return!t.includes(e)&&t.push(e)},H=function(t){if(t){var e=t.prop,r=t.target,n=r.rect,a=r.element,o=function(t,r){var n=t.top,i=t.right,a=t.bottom,o=t.left,l=r.top,s=r.left;switch(e){case u.default.tt:case u.default.bt:return[n,l];case u.default.bb:case u.default.tb:return[a,l];case u.default.rr:case u.default.lr:return[i,s];case u.default.ll:case u.default.rl:return[o,s];case u.default.xx:return[(i+o)/2,s];case u.default.yy:return[(n+a)/2,l]}}(n,(0,l.stdRect)(U(a))),s=i(o,2),c=s[0],f=s[1];return{type:e,rect:n,element:a,position:c,offset:c-f}}return null},N=function(t,e){return!!t!=!!e||(t?t.target.element:null)!==(e?e.target.element:null)};k.prototype.handle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.stdRect)(t),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getAttractable();if(!(0,a.iselem)(t))throw new Error("Invalid DOM: "+(0,a.tostr)(t));var i=L(this,t);if(-1===i)throw new Error("Invalid member: "+(0,a.tostr)(t));(0,a.isbool)(e)&&(r=e,e=t),e=(0,l.stdRect)(e);var s=this[F.temp][i],c=s._lastAttractedX,f=s._lastAttractedY,d=e,m=d.top,R=d.left,I=d.width,_=d.height,j=r?this.getDistance():0,O=this.check(t,e,r?void 0:[]),P=O.parent,C=O.targets,D=P.rect,S=P.element,M={x:R,y:m},U=C.concat(this.getStayInParent()?(0,l.diffRect)(e,S,{alignments:h,absDistance:!1}):[],this.getAlignParentCenter()?(0,l.diffRect)(e,S,{alignments:g}):[]).reduce(function(t,e){var r=t.x,n=t.y,i=e.target,a=e.results;return e.ranking.reduce(function(t,e){var r=t.x,n=t.y,o=a[e];if(o<=j)switch(e){case u.default.rr:case u.default.ll:case u.default.rl:case u.default.lr:case u.default.xx:(!r||o<r.value)&&(r={prop:e,value:o,target:i});break;case u.default.tt:case u.default.bb:case u.default.tb:case u.default.bt:case u.default.yy:(!n||o<n.value)&&(n={prop:e,value:o,target:i})}return{x:r,y:n}},{x:r,y:n})},{x:null,y:null}),T=U.x,k=U.y,W=[],q=[];if(T){var X=T.prop,Y=T.target.rect;switch(X){case u.default.rr:M.x=Y.right-I;break;case u.default.ll:M.x=Y.left;break;case u.default.rl:M.x=Y.left-I;break;case u.default.lr:M.x=Y.right;break;case u.default.xx:M.x=(Y.left+Y.right-I)/2}}if(k){var B=k.prop,G=k.target.rect;switch(B){case u.default.tt:M.y=G.top;break;case u.default.bb:M.y=G.bottom-_;break;case u.default.tb:M.y=G.bottom;break;case u.default.bt:M.y=G.top-_;break;case u.default.yy:M.y=(G.top+G.bottom-_)/2}}var V=N(c,T),z=N(f,k);V&&(T&&K(W,T.target.element),c&&K(q,c.target.element)),z&&(k&&K(W,k.target.element),f&&K(q,f.target.element)),W.forEach(function(e){return o.default.trigger(e,v,t)}),q.forEach(function(e){return o.default.trigger(e,b,t)});var Q=!(!T&&!k),J=!(!c&&!f),Z=this[F.eventHandler],$={x:H(T),y:H(k)},tt={x:H(c),y:H(f)};if(Q){var et=V||z;J?et||!V&&T&&c&&T.prop!==c.prop||!z&&k&&f&&k.prop!==f.prop?(Z.trigger(A,n({source:t},$)),o.default.trigger(t,p,$)):et&&Z.trigger(A,n({source:t},$)):(Z.trigger(A,n({source:t},$)),Z.trigger(E,n({source:t},$)),o.default.trigger(t,p,$)),et&&o.default.trigger(t,y,tt)}else J&&(Z.trigger(A,{source:t,x:null,y:null}),Z.trigger(x,n({source:t},tt)),o.default.trigger(t,y,tt));var rt,nt,it=this[F.manualHandler],at=it.beforeAttract,ot=it.afterAttract,lt=it.doAttract,ut=(rt=M.x-D.left,nt=M.y-D.top,(0,l.stdRect)({top:nt,right:rt+I,bottom:nt+_,left:rt,width:I,height:_}));if((0,a.isfunc)(at)){var st=at.bind(this)(t,{origin:(0,l.stdRect)(e),target:(0,l.stdRect)(ut)},{current:$,last:tt});if((0,l.isRect)(st))ut=st;else if((0,a.isbool)(st)&&!1===st)ut=e;else if((0,a.isset)(st))throw new Error("Invalid return value: "+(0,a.tostr)(st))}return o.default.trigger(t,w,{rects:{origin:(0,l.stdRect)(e),target:(0,l.stdRect)(ut)},attracts:{current:$,last:tt}},function(){ut=e}),(0,a.isfunc)(lt)?lt.bind(this)(t,{origin:(0,l.stdRect)(e),target:(0,l.stdRect)(ut)},{current:$,last:tt}):this.setMemberRectangle(t,ut),(0,a.isfunc)(ot)&&ot.bind(this)(t,{origin:(0,l.stdRect)(e),target:(0,l.stdRect)(ut)},{current:$,last:tt}),this[F.temp][i]={_lastAttractedX:T,_lastAttractedY:k},this},k.prototype.setMemberRectangle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.stdRect)(t),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getUseRelativeUnit();if(!(0,a.iselem)(t))throw new Error("Invalid DOM: "+(0,a.tostr)(t));if(!this.hasMember(t))throw new Error("Invalid member: "+(0,a.tostr)(t));(0,a.isbool)(e)&&(r=e,e=(0,l.stdRect)(t));var n=e=(0,l.stdRect)({right:e.right,bottom:e.bottom,width:e.width,height:e.height}),i=n.top,o=n.left,u=n.width,s=n.height;if(r){var c=(0,l.stdRect)(U(t)),f=c.width,d=c.height;t.style.top=D(i/d/this.getScale()),t.style.left=D(o/f/this.getScale()),t.style.width=D(u/f/this.getScale()),t.style.height=D(s/d/this.getScale())}else t.style.top=C(i/this.getScale()),t.style.left=C(o/this.getScale()),t.style.width=C(u/this.getScale()),t.style.height=C(s/this.getScale());return t.style.position="absolute",t.style.right="auto",t.style.bottom="auto",this},["before","after","do"].forEach(function(t){var e=t+"Attract";Object.defineProperty(k.prototype,e,{get:function(){return this[F.manualHandler][e]},set:function(t){this[F.manualHandler][e]=t}})}),k.prototype.add=function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r=a.stdDoms.apply(void 0,f(r)),[window,document,document.body].forEach(function(t){if(r.includes(t))throw new Error("Illegal element: "+(0,a.tostr)(src))}),r.forEach(function(e){t[F.targets].includes(e)||(o.default.on(e,M(t,I),function(r){if(t.getAllowDrag()){r.preventDefault();var n=!r.ctrlKey,i=r,a=(0,l.stdRect)(e),u=a.left,s=a.top,c=a.width,f=a.height,d=S(r),h=d.x,g=d.y,p=function(r){var i=!!t.getAttractable()&&(!t.getAllowCtrlKey()||n),a=S(r),o=a.x,d=a.y,p=u+(o-h),y=s+(d-g),v=(0,l.stdRect)({top:y,right:p+c,bottom:y+f,left:p});t.handle(e,v,i)};o.default.trigger(e,m,(0,l.stdRect)(e)),o.default.off(document.body,M(t,_,j,O,P)),o.default.on(document.body,M(t,O,P),function(t){var e=!t.ctrlKey;e!==n&&(n=e,p(i))}),o.default.on(document.body,M(t,j),function(){var r=[],n=L(t,e),i=t[F.temp][n],a=i._lastAttractedX,u=i._lastAttractedY;if(o.default.off(document.body,M(t,_,j,O,P)),a&&K(r,a.target.element),u&&K(r,u.target.element),r.forEach(function(t){return o.default.trigger(t,b,e)}),o.default.trigger(e,R,(0,l.stdRect)(e)),a||u){var s=t[F.eventHandler];o.default.trigger(e,y),s.trigger(A,{source:e,x:null,y:null}),s.trigger(x,{source:e})}t[F.temp][n]={}}),o.default.on(document.body,M(t,_),function(t){p(t),i=t})}}),t[F.targets].push(e),t[F.temp].push({}),t.setMemberRectangle(e))}),this};var L=function(t,e){return t[F.targets].indexOf(e)};k.prototype.hasMember=function(t){return-1!==L(this,t)};var W=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return a.stdDoms.apply(void 0,r).reduce(function(e,r){var n=t[F.targets],i=t[F.temp],a=n.indexOf(r);return-1!==a&&(n.splice(a,1),i.splice(a,1),o.default.off(r,M(t,I)),e.push(r)),e},[])};k.prototype.remove=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return W.apply(void 0,[this].concat(e)),this},k.prototype.removeFull=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return W.apply(void 0,[this].concat(e)).forEach(function(t){t.style.position="",t.style.top="",t.style.right="",t.style.bottom="",t.style.left="",t.style.width="",t.style.height="",t.style.zIndex=""}),this};var q=function(t){var e=t[F.targets];return t[F.temp]=[],e.splice(0,e.length).map(function(e){return o.default.off(e,M(t,I)),e})};k.prototype.clear=function(){return q(this),this},k.prototype.clearFull=function(){return q(this).forEach(function(t){t.style.position="",t.style.top="",t.style.right="",t.style.bottom="",t.style.left="",t.style.width="",t.style.height="",t.style.zIndex=""}),this},k.isRect=function(t){return(0,l.isRect)(t)},k.stdRect=function(t){return(0,l.stdRect)(t)},k.measure=k.diffRect=function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return l.diffRect.apply(void 0,[t,e].concat(n))},r.default=k},{"./alignment-props":2,"./event-handler":3,"./rect":5,"./stdlib":6}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.diffRect=r.stdRect=r.isRect=void 0;var n,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=t("./stdlib"),o=t("./alignment-props"),l=(n=o,n&&n.__esModule?n:{default:n});var u=r.isRect=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-10;if(!(0,a.isset)(t))return!1;var r=t.x,n=t.y,i=t.top,o=void 0===i?n:i,l=t.right,u=t.bottom,s=t.left,c=void 0===s?r:s,f=t.width,d=t.height,h=function(t){return!((0,a.isset)(t)&&!(0,a.isnum)(t))};if(!(h(o)&&h(l)&&h(u)&&h(c)&&h(f)&&h(d)&&h(r)&&h(n)))return!1;if((0,a.isset)(f)){if(f<0)return!1;if((0,a.isset)(c)){if((0,a.isset)(l)&&e<Math.abs(f-(l-c)))return!1}else if(!(0,a.isset)(l))return!1}else if(!(0,a.isset)(c)||!(0,a.isset)(l)||l<c)return!1;if((0,a.isset)(d)){if(d<0)return!1;if((0,a.isset)(o)){if((0,a.isset)(u)&&e<Math.abs(d-(u-o)))return!1}else if(!(0,a.isset)(u))return!1}else if(!(0,a.isset)(o)||!(0,a.isset)(u)||u<o)return!1;return!0},s=r.stdRect=function(t){if(u(t)){var e=t.x,r=t.y,n=t.right,i=t.bottom,o=t.width,l=t.height,s=t.top,c=void 0===s?(0,a.isset)(r)?r:i-l:s,f=t.left,d=void 0===f?(0,a.isset)(e)?e:n-o:f;return{top:c,left:d,x:(0,a.isset)(e)?e:d,y:(0,a.isset)(r)?r:c,right:(0,a.isset)(n)?n:d+o,bottom:(0,a.isset)(i)?i:c+l,width:(0,a.isset)(o)?o:n-d,height:(0,a.isset)(l)?l:i-c}}if((0,a.iselem)(t)){var h=t instanceof Element?{rect:t.getBoundingClientRect(),border:(w=(0,a.getStyle)(t),{t:w.borderTopWidth,r:w.borderRightWidth,b:w.borderBottomWidth,l:w.borderLeftWidth})}:{rect:{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},border:{t:0,r:0,b:0,l:0}},g=h.rect,p=h.border,y=g.top+parseFloat(p.t),v=g.right-parseFloat(p.r),b=g.bottom-parseFloat(p.b),m=g.left+parseFloat(p.l);return{top:y,right:v,bottom:b,left:m,width:v-m,height:b-y,x:m,y:y}}throw new Error("Invalid element to rectangle: "+(0,a.tostr)(t));var w},c=r.diffRect=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.alignments,o=void 0===n?(0,a.objValues)(l.default):n,u=r.absDistance,c=void 0===u||u,f=s(t),d=s(e),h={rect:f},g={rect:d},p=c?Math.abs:function(t){return t},y=(0,a.objMap)((0,a.objReduce)(l.default,function(t,e){return o.includes(e)?i({},t,(a=NaN,(n=e)in(r={})?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r)):t;var r,n,a},{}),function(t,e){switch(e){case l.default.tt:return p(f.top-d.top);case l.default.bb:return p(d.bottom-f.bottom);case l.default.rr:return p(d.right-f.right);case l.default.ll:return p(f.left-d.left);case l.default.tb:return p(f.top-d.bottom);case l.default.bt:return p(d.top-f.bottom);case l.default.rl:return p(d.left-f.right);case l.default.lr:return p(f.left-d.right);case l.default.xx:return p((f.right-d.right+(f.left-d.left))/2);case l.default.yy:return p((f.top-d.top+(f.bottom-d.bottom))/2)}}),v=(0,a.objKeys)(y).sort(function(t,e){return y[t]-y[e]});return(0,a.iselem)(t)&&(h.element=t),(0,a.iselem)(e)&&(g.element=e),{source:h,target:g,results:y,ranking:v,min:v[0],max:v[y.length-1]}};function f(t){var e=this;if(!this instanceof f)return new(Function.prototype.bind.apply(f,[null].concat(Array.prototype.slice.call(arguments))));objForEach(s(t),function(t,r){return e[r]=t})}f.stdRect=s,f.diffRect=c,f.prototype.diff=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return c.apply(void 0,[this,t].concat(r))}},{"./alignment-props":2,"./stdlib":6}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var i=r.isset=function(t){return void 0!==t},a=(r.useor=function(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:i)(t)?t:e},r.isbool=function(t){return"boolean"==typeof t},r.tobool=function(t){return!!t},r.isnum=function(t){return!isNaN(t)}),o=(r.tonum=function(t){return parseFloat(t)},r.isint=function(t){return a(t)&&t===(0|t)}),l=(r.isstr=function(t){return"string"==typeof t||i(t)&&t instanceof String},r.tostr=function(t){return i(t)?t.toString():""}),u=(r.isfunc=function(t){return"function"==typeof t},r.isarray=function(t){return i(t)&&Array.isArray(t)}),s=r.arrayable=function(t){return t&&o(t.length)&&0<=t.length},c=r.toarray=function(t){return Array.prototype.slice.call(t)},f=r.objKeys=function(t){return Object.keys(t)},d=(r.objForEach=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return f(t).forEach(function(n){return e.call(r,t[n],n,t)})},r.objReduce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments[2];return f(t).reduce(function(r,n){return e(r,t[n],n,t)},r)}),h=(r.objMap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return d(t,function(i,a,o){return n({},i,(l={},u=o,s=e.call(r,a,o,t),u in l?Object.defineProperty(l,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[u]=s,l));var l,u,s},{})},r.objValues=function(t){return d(t,function(t,e){return t.concat([e])},[])},r.iselem=function(t){return i(t)&&(t instanceof Element||t instanceof Window||t instanceof Document)});r.getStyle=function(t){return t.currentStyle||window.getComputedStyle(t)},r.stdDoms=function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(e,r){if(h(r))return e.includes(r)?e:e.concat(r);if(u(r))return r.reduce(function(e,r){return e.concat(t(r))},e);if(s(r))return e.concat(t(c(r)));throw new Error("Invalid element: "+l(r))},[])}},{}]},{},[1]);
